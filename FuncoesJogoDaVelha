#ifndef FUNCOES_H
#define FUNCOES_H

#include <iostream>
#include <stdlib.h>
#include <time.h>
#define TAMANHO_MATRIZ 3

using namespace std;

int menu() {
	srand(time(NULL));
	int opcao;
	cout << "JOGO DA VELHA" << endl;
	cout << "(1) contra um outro jogador" << endl << "(2) contra a CPU" << endl << "Opcao: ";
	cin >> opcao;
	return opcao;

}

void escreverMatriz(char matriz[3][3]) {
	int  tc = 179, r;
	char t[11], c = 181;

	for (r = 0; r<11; r++) //atribui ao vetor t[] as partes da tabela.
	{
		t[r] = tc;
		tc++;
		if (tc == 181)tc = 191;
		if (tc == 198)tc = 217;
	}

	cout << "    0   1   2" << endl;
	cout << "  " << t[10] << t[7] << t[7] << t[7] << t[5] << t[7] << t[7] << t[7] << t[5] << t[7] << t[7] << t[7] << t[2] << endl;
	cout << "0 " << t[0] << " " << matriz[0][0] << " " << t[0] << " " << matriz[0][1] << " " << t[0] << " " << matriz[0][2] << " " << t[0] << endl;
	cout << "  " << t[6] << t[7] << t[7] << t[7] << t[8] << t[7] << t[7] << t[7] << t[8] << t[7] << t[7] << t[7] << t[1] << endl;
	cout << "1 " << t[0] << " " << matriz[1][0] << " " << t[0] << " " << matriz[1][1] << " " << t[0] << " " << matriz[1][2] << " " << t[0] << endl;
	cout << "  " << t[6] << t[7] << t[7] << t[7] << t[8] << t[7] << t[7] << t[7] << t[8] << t[7] << t[7] << t[7] << t[1] << endl;
	cout << "2 " << t[0] << " " << matriz[2][0] << " " << t[0] << " " << matriz[2][1] << " " << t[0] << " " << matriz[2][2] << " " << t[0] << endl;
	cout << "  " << t[3] << t[7] << t[7] << t[7] << t[4] << t[7] << t[7] << t[7] << t[4] << t[7] << t[7] << t[7] << t[9] << endl;
}

void jogo(int opcao, char matriz[3][3]) {
	if (opcao == 1) {
		int linhaEscolhida;
		int colunaEscolhida;
		for (int numeroJogadas = 0; numeroJogadas < 10; numeroJogadas++)
		{
			if (numeroJogadas % 2 == 0) {
				cout << "Linha: ";
				cin >> linhaEscolhida;
				cout << "Coluna: ";
				cin >> colunaEscolhida;
				matriz[linhaEscolhida][colunaEscolhida] = 'X';

				int verificacaoX = 0;
				int verificacaoO = 0;
				for (int linha = 0; linha < 3; linha++)
				{
					for (int coluna = 0; coluna < 3; coluna++)
					{
						int X = 0;
						int O = 0;
						if (matriz[linha][coluna] == 'X') {
							X++;
							verificacaoX = X;
						}
						else {
							O++;
							verificacaoO = O;
						}
					}
					if (verificacaoX == 3 || verificacaoO == 3) {
						if (verificacaoX == 3) {
							cout << "O jogador X venceu!!";
						}
						else if (verificacaoO == 3) {
							cout << "O jogador O venceu!!";
						}
					}
				}
			}
			//vencedor(matriz);
			else {
				cout << "Linha: ";
				cin >> linhaEscolhida;
				cout << "Coluna: ";
				cin >> colunaEscolhida;
				matriz[linhaEscolhida][colunaEscolhida] = 'O';
			}
			int verificacaoX = 0;
			int verificacaoO = 0;
			for (int linha = 0; linha < 3; linha++)
			{
				for (int coluna = 0; coluna < 3; coluna++)
				{
					int X = 0;
					int O = 0;
					if (matriz[linha][coluna] == 'X') {
						X++;
						verificacaoX = X;
					}
					else {
						O++;
						verificacaoO = O;
					}
				}
				if (verificacaoX == 3 || verificacaoO == 3) {
					if (verificacaoX == 3) {
						cout << "O jogador X venceu!!";
					}
					else if (verificacaoO == 3) {
						cout << "O jogador O venceu!!";
					}
				}
			}
			escreverMatriz(matriz);
		}
	}

	else {

	}
}

/*void vencedor(char matriz[3][3]) {
int verificacaoX = 0;
int verificacaoO = 0;
for (int linha = 0; linha < 3; linha++)
{
for (int coluna = 0; coluna < 3; coluna++)
{
int X = 0;
int O = 0;
if (matriz[linha][coluna] == 'X') {
X++;
verificacaoX = X;
}
else {
O++;
verificacaoO = O;
}
}
if (verificacaoX == 3 || verificacaoO == 3) {
if (verificacaoX == 3) {
cout << "O jogador X venceu!!";
}
else if (verificacaoO == 3) {
cout << "O jogador O venceu!!";
}
}
}
}*/



#endif
